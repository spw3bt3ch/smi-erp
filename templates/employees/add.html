{% extends "base.html" %}

{% block title %}Add Employee - ERP Payroll System{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white shadow rounded-lg">
        <div class="px-4 py-5 sm:p-6">
            <h3 class="text-lg leading-6 font-medium text-gray-900 mb-6">Add New Employee</h3>
            
            <form method="POST" class="space-y-6">
                {{ form.hidden_tag() }}
                
                <!-- Personal Information -->
                <div class="border-b border-gray-200 pb-6">
                    <h4 class="text-md font-medium text-gray-900 mb-4">Personal Information</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            {{ form.first_name.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.first_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.first_name.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.first_name.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.last_name.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.last_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.last_name.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.last_name.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.email.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.email(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.email.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.email.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.phone.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.phone(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.phone.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.phone.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Job Information -->
                <div class="border-b border-gray-200 pb-6">
                    <h4 class="text-md font-medium text-gray-900 mb-4">Job Information</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            {{ form.job_title.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.job_title(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.job_title.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.job_title.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.department.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.department(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.department.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.department.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.hire_date.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.hire_date(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.hire_date.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.hire_date.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.salary.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.salary(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.salary.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.salary.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Financial Information -->
                <div class="border-b border-gray-200 pb-6">
                    <h4 class="text-md font-medium text-gray-900 mb-4">Financial Information</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            {{ form.tax_id.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.tax_id(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.tax_id.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.tax_id.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div>
                            {{ form.bank_name.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.bank_name(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.bank_name.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.bank_name.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        
                        <div class="md:col-span-2">
                            {{ form.bank_account.label(class="block text-sm font-medium text-gray-700") }}
                            {{ form.bank_account(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm") }}
                            {% if form.bank_account.errors %}
                                <div class="text-red-500 text-sm mt-1">
                                    {% for error in form.bank_account.errors %}
                                        <div>{{ error }}</div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Address Information -->
                <div class="pb-6">
                    <h4 class="text-md font-medium text-gray-900 mb-4">Address Information</h4>
                    <div>
                        {{ form.address.label(class="block text-sm font-medium text-gray-700") }}
                        {{ form.address(class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm", rows="3") }}
                        {% if form.address.errors %}
                            <div class="text-red-500 text-sm mt-1">
                                {% for error in form.address.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="flex justify-end space-x-3">
                    <a href="{{ url_for('employees.index') }}" 
                       class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Cancel
                    </a>
                    {{ form.submit(class="bg-indigo-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500") }}
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
